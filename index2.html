<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Earthcube</title>
		<!-- Bootstrap -->
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
			<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
		<link rel="stylesheet" href="style2.css">
	</head>
	<body>
		<div class="navbar navbar-default navbar-fixed-top" role="navigation">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					</button>
				</div>
				<div class="navbar-collapse collapse">
					<ul class="nav navbar-nav">
						<li class="active"><a href="#">Catalogue</a></li>
						<li><a href="#">Map View</a></li>
					</ul>
				</div>
			</div>
		</div>
		<div class="container-fluid">
			<div class="row" id="search-row">
				<div class="col-md-12">
					<div id="search-div">
						<input type="search" name="search" id="search" autofocus="true" />
						<div>
							<a href="" title="search"><img src="img/search_button.png" alt="search" /></a>
							<a href="" title="clear search"><img src="img/close_button.png" alt="clear search"></a>
						</div>
					</div>
					<div id="filters">
						<div id="date-slider"></div>
						<p><input type="checkbox" value="restrict" name="restrict" id="restrict" /> <label for="restrict">Restrict search results to map boundaries</label></p>
					</div>
					<div id="pagination">
						<p>1-10 of 79 results</p>
						<a href="#" title="back"><img src="img/back_arrow_grey.png" alt="back" /></a>
						<a href="#" title="forward"><img src="img/forward_arrow_blue.png" alt="forward" /></a>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-8" id="search-results">
					<ul>
						<li>
							<div class="sub-title">SNAP Historical Monthly Temperature</div>
							<div class="title">Monthly Average Air Temperature</div>
							<div class="content">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>
							<div class="buttons">
								<a href="#"><img src="img/download_data.png" />Download</a>
								<a href="#"><img src="img/add_to_map.png" />Add to Map</a>
								<img src="img/start&end_time.png" />
								Start &amp; End Time
								<input type="text" value="06/09/11 - 06/09/14" name="dateTime" disabled="true" />
							</div>
						</li>
						<li>
							<div class="sub-title">SNAP Historical Monthly Temperature</div>
							<div class="title">Monthly Average Air Temperature</div>
							<div class="content">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>
							<div class="buttons">
								<a href="#"><img src="img/download_data.png" />Download</a>
								<a href="#"><img src="img/add_to_map.png" />Add to Map</a>
								<img src="img/start&end_time.png" />
								Start &amp; End Time
								<input type="text" value="06/09/11 - 06/09/14" name="dateTime"  disabled="true" />
							</div>
						</li>
						<li>
							<div class="sub-title">SNAP Historical Monthly Temperature</div>
							<div class="title">Monthly Average Air Temperature</div>
							<div class="content">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>
							<div class="buttons">
								<a href="#"><img src="img/download_data.png" />Download</a>
								<a href="#"><img src="img/add_to_map.png" />Add to Map</a>
								<img src="img/start&end_time.png" />
								Start &amp; End Time
								<input type="text" value="06/09/11 - 06/09/14" name="dateTime"  disabled="true" />
							</div>
						</li>
					</ul>
				</div>
				<div class="col-md-3" id="map-view-col">
					<h3>Monthly Average Air Temperature</h3>
					<div id="show-hide-assets">
						<a href="#"><img src="img/red_x.png" alt="Turn all assets off" />Turn all assets off</a>
						<a href="#"><img src="img/green_check.png" alt="Turn all assets on" />Turn all assets on</a>
					</div>
					<div id="asset-list">
						<ul>
							<li>
								<div class="checkbox">
									<label><input type="checkbox"> ROMS ESPRESSO currents</label>
									<a href="#"><img src="img/view_data.png" alt="view data" title="view data" /></a>
									<a href="#"><img src="img/download_data.png" alt="download data" title="download data" /></a>
								</div>
							</li>
							<li>
								<div class="checkbox">
									<label><input type="checkbox"> HYCOM currents</label>
									<a href="#"><img src="img/view_data.png" alt="view data" title="view data" /></a>
									<a href="#"><img src="img/download_data.png" alt="download data" title="download data" /></a>
								</div>
							</li>
						</ul>
					</div>
				</div>
				<div class="col-md-4" id="map-col">
					<div id="map"></div>
				</div>
			</div>
		</div>
		<div class="modal fade" id="add-to-map-modal">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 class="modal-title">Add to Map</h4>
					</div>
					<div class="modal-body">
						<ul>
							<li><p><a href="#">SST</a></p></li>
							<li><p><a href="#">Winds</a></p></li>
							<li><p><a href="#">Waves</a></p></li>
						</ul>
					</div>
					<!-- <div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						<button type="button" class="btn btn-primary">Save changes</button>
					</div> -->
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
		<div class="modal fade" id="download-modal">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 class="modal-title">Build download link</h4>
					</div>
					<div class="modal-body">
						<form class="form-horizontal" role="form">
							<div class="form-group">
								<label for="presets" class="col-sm-4 control-label">Presets</label>
								<div class="col-sm-8">
									<select id="presets">
										<option>temperature, EPSG:3035, GeoTIFF</option>
										<option>temperature, EPSG:3035, jpeg</option>
										<option>temperature, EPSG:3035, NetCDF</option>
										<option>temperature, EPSG:3035, png</option>
										<option>temperature, EPSG:3857, jpeg</option>
										<option>temperature, EPSG:3857, NetCDF</option>
										<option>temperature, EPSG:3857, png</option>
										<option selected='true'>temperature, EPSG:4326, GeoTIFF</option>
										<option>temperature, EPSG:4326, GML 3.1.1</option>
										<option>temperature, EPSG:4326, jpeg</option>
										<option>temperature, EPSG:4326, NetCDF</option>
										<option>temperature, EPSG:4326, NetCDF trajectory</option>
										<option>temperature, EPSG:4326, png</option>
									</select>
								</div>
							</div>
							<div class="form-group">
								<label for="name" class="col-sm-4 control-label">Name</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" id="name" value="temperature" disabled="true">
								</div>
							</div>
							<div class="form-group">
								<label for="crs" class="col-sm-4 control-label">CRS</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" id="crs" value="EPSG:3035" disabled="true">
								</div>
							</div>
							<div class="form-group">
								<label for="format" class="col-sm-4 control-label">Format</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" id="format" value="GeoTIFF" disabled="true">
								</div>
							</div>
							<div class="form-group">
								<label for="min-longitude" class="col-sm-4 control-label">Min longitude</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" id="min-longitude" value="13.82838">
								</div>
							</div>
							<div class="form-group">
								<label for="min-latitude" class="col-sm-4 control-label">Min latitude</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" id="min-latitude" value="-32.7864">
								</div>
							</div>
							<div class="form-group">
								<label for="max-longitude" class="col-sm-4 control-label">Max longitude</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" id="max-longitude" value="13.83209">
								</div>
							</div>
							<div class="form-group">
								<label for="max-latitude" class="col-sm-4 control-label">Max latitude</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" id="max-latitude" value="-32.7723">
								</div>
							</div>
							<div class="form-group">
								<label for="longitude-res" class="col-sm-4 control-label">Longitude res.</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" id="longitude-res" value="5.5e-8">
								</div>
							</div>
							<div class="form-group">
								<label for="latitude-res" class="col-sm-4 control-label">Latitude res.</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" id="latitude-res" value="0">
								</div>
							</div>
							<div class="form-group">
								<label for="time-from" class="col-sm-4 control-label">Time from</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" id="time-from" value="2013-02-02T22:41:04Z">
								</div>
							</div>
							<div class="form-group">
								<label for="time-to" class="col-sm-4 control-label">Time to</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" id="time-to" value="2013-02-03T06:24:00Z">
								</div>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
						<button type="button" class="btn btn-primary">OK</button>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
		<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
		<script src="jQDateRangeSlider-min.js"></script>
		<script>
			function resize() {
				var offset = 170;
				if ($('ul.nav li:last-child').hasClass('active'))
					offset = 105;
				$('#search-results ul, #map').height($(window).height()-offset);
			}
			window.onresize = function(e){resize();};
			$(document).ready(function(){
				resize();
				$('#date-slider').dateRangeSlider({
					bounds: {
						min: new Date(2012, 0, 1),
						max: new Date(Date.now())
					},
					defaultValues : {
						min: new Date(2012, 5, 1),
						max: new Date(2014, 0, 1)
					}
				});
				$('#date-slider').bind("valuesChanged", function(e, data){
					console.log("Values just changed. min: " + data.values.min + " max: " + data.values.max);
				});
				$('ul.nav li:first-child a').on('click', function(e){
					e.preventDefault();
					if ($(this).hasClass('active'))
						return false;
					else {
						$('#map-col').removeClass('col-md-9').addClass('col-md-4');
						$('#search-row, #search-results').show();
						$('#map-view-col').hide();
						$('li.active').removeClass('active');
						$(this).parent().addClass('active');
						resize();
					}
				});
				$('ul.nav li:last-child a').on('click', function(e){
					e.preventDefault();
					if ($(this).hasClass('active'))
						return false;
					else {
						$('#search-row, #search-results').hide();
						$('#map-view-col').show();
						$('#map-col').removeClass('col-md-4').addClass('col-md-9');
						$('li.active').removeClass('active');
						$(this).parent().addClass('active');
						resize();
					}
				});
				$('#add-to-map-modal, #download-modal').modal({
					show: false
				});
				$('li .buttons a').on('click', function(e){
					e.preventDefault();
					if ($(this).text() == "Add to Map")
						$('#add-to-map-modal').modal('show');
					else if ($(this).text() == "Download")
						$('#download-modal').modal('show');
				});
				$('#show-hide-assets a').on('click', function(e){
					e.preventDefault();
					if ($(this).text() == "Turn all assets off")
						$('#asset-list input[type="checkbox"]').each(function(i){
							$(this).prop('checked', false);
						});
					else
						$('#asset-list input[type="checkbox"]').each(function(i){
							$(this).prop('checked', true);
						});
				});
			});
		</script>
	</body>
</html>